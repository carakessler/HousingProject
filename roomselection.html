<html>
<head>
<title>Floor Plans</title>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
<link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
<script type="text/javascript" src="http://code.jquery.com/jquery.js"></script>
<script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<script>

	var QueryString = function () {
  	// This function is anonymous, is executed immediately and 
  	// the return value is assigned to QueryString!
 	 var query_string = {};
  	var query = window.location.search.substring(1);
 	 var vars = query.split("&");
 	for (var i=0;i<vars.length;i++) {
    var pair = vars[i].split("=");
    	// If first entry with this name
    if (typeof query_string[pair[0]] === "undefined") {
      query_string[pair[0]] = pair[1];
    	// If second entry with this name
    } else if (typeof query_string[pair[0]] === "string") {
      var arr = [ query_string[pair[0]], pair[1] ];
      query_string[pair[0]] = arr;
    	// If third or later entry with this name
    } else {
      query_string[pair[0]].push(pair[1]);
    }
 	 } 
    return query_string;
	} ();
	
	function updateRoom()
	{
		var floorth = document.getElementById("myList").value;
		var listElement = ""
		$.getJSON('json/dorms.json', function(data) {
			//var floorth = document.getElementById("myList");

		 	$.each(data.locations[QueryString.a].halls[QueryString.b][floorth], function(i, f) {
		 	listElement += "<li>" + i + "</li>"
		 	//$(listElement).appendTo(".Rooms ul");
		 	$(".Rooms ul").html(listElement);
			 });
		});
	}
	
	
	$(function() {
	
		 $.getJSON('json/dorms.json', function(data) {
		 	$.each(data.locations[QueryString.a].halls[QueryString.b], function(i, f) {
		 	var listElement =  "<option>" + i + "</option>"
		 	$(listElement).appendTo("#myList");
			 });
		});
	});
	
	
	$(function() {
	
		 $.getJSON('json/dorms.json', function(data) {
		 	$.each(data.locations[5].Southside.halls[QueryString.b][1], function(i, f) {
		 	var listElement = "<li>" + i + "</li>"
		 	$(listElement).appendTo(".Rooms ul");
			 });
		});
	});

</script>


<style type="text/css">
body {
	background-color: red;
}
.Navbar {
	background-color: white;
	margin-top: 50px;
	height: 75px;
}
.Viewer {
	background-color: blue;
	float: left;
	width: 68%;
	height: 550px;
}
.Floor {
	background-color: yellow;
	float: right;
	width: 32%;
	height: 75px;
}
.Rooms {
	background-color: green;
	float: right;
	width: 32%;
	height: 475px;
}

</style>
</head>

<body>
<div class="Navbar">
<div class="btn-group">
            <button data-toggle="dropdown" class="btn btn-primary dropdown-toggle">Fraternity Quad<span class="caret"></span></button>
            <ul class="dropdown-menu">
                <li><a href="#">Psi Upsilon</a></li>
            </ul>
	</div>
	
	<div class="btn-group">
            <button data-toggle="dropdown" class="btn btn-primary dropdown-toggle">Hill Court<span class="caret"></span></button>
            <ul class="dropdown-menu">
                <li><a href="?a=HillCourt&b=Chambers">Chambers</a></li>
                <li><a href="?a=HillCourt&b=Fairchild">Fairchild</a></li>
                <li><a href="?a=HillCourt&b=Gale">Gale</a></li>
                <li><a href="?a=HillCourt&b=Kendrick">Kendrick</a></li>
                <li><a href="?a=HillCourt&b=Munro">Munro</a></li>
                <li><a href="?a=HillCourt&b=Slater">Slater</a></li>
            </ul>
	</div>
	
	<div class="btn-group">
            <button data-toggle="dropdown" class="btn btn-primary dropdown-toggle">Jackson Court<span class="caret"></span></button>
            <ul class="dropdown-menu">
                <li><a href="?a=JacksonCourt&b=Anderson">Anderson</a></li>
                <li><a href="?a=JacksonCourt&b=Wilder">Wilder</a></li>
                <li><a href="?a=JacksonCourt&b=O-Brien">O-Brien</a></li>
            </ul>
	</div>
	<div class="btn-group">
            <button data-toggle="dropdown" class="btn btn-primary dropdown-toggle">Riverview<span class="caret"></span></button>
            <ul class="dropdown-menu">
                <li><a href="#">Building A</a></li>
                <li><a href="#">Building B</a></li>
                <li><a href="#">Building C</a></li>
                <li><a href="#">Building D</a></li>
                <li><a href="#">Building E</a></li>
            </ul>
	</div>
	<div class="btn-group">
            <button data-toggle="dropdown" class="btn btn-primary dropdown-toggle">Res Quad<span class="caret"></span></button>
            <ul class="dropdown-menu">
                <li><a href="?a=ResQuad&b=Burton">Burton</a></li>
                <li><a href="?a=ResQuad&b=Crosby">Crosby</a></li>
                <li><a href="?a=ResQuad&b=Gilbert">Gilbert</a></li>
                <li><a href="?a=ResQuad&b=Hoeing">Hoeing</a></li>
                <li><a href="?a=ResQuad&b=Lovejoy">Lovejoy</a></li>
                <li><a href="?a=ResQuad&b=Tiernan">Tiernan</a></li>
            </ul>
	</div>
	
	<div class="btn-group">
            <button data-toggle="dropdown" class="btn btn-primary dropdown-toggle">Riverview<span class="caret"></span></button>
            <ul class="dropdown-menu">
                <li><a href="?a=Riverview&b=A">Building A</a></li>
                <li><a href="?a=Riverview&b=B">Building B</a></li>
                <li><a href="?a=Riverview&b=C">Building C</a></li>
                <li><a href="?a=Riverview&b=D">Building D</a></li>
                <li><a href="?a=Riverview&b=E">Building E</a></li>
            </ul>
	</div>
	
	<div class="btn-group">
            <button data-toggle="dropdown" class="btn btn-primary dropdown-toggle">Southside<span class="caret"></span></button>
            <ul class="dropdown-menu">
                <li><a href="?a=Southside&b=deKiewiet">deKiewiet</a></li>
                <li><a href="?a=Southside&b=Maisonettes">Maisonettes</a></li>
                <li><a href="?a=Southside&b=Valentine">Valentine</a></li>
            </ul>
	</div>
	
</div>

<div class="Viewer">Floor plan picture viewer goes here</div>


<div class="Floor">

	<form>
		Floor #
		<select id="myList" onchange="updateRoom()">
		</select>
	</form>


</div>

<div class="Rooms"> 
	<ul>
		
	
	</ul>
</div>
	
</body>
</html>
